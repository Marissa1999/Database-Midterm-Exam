--LabExam_Script1.sql
--Name: Marissa GonÃ§alves
--Date: October 18, 2018


CONNECT scott/tiger;
SET LINESIZE 180;
SET PAGESIZE 60;
SET ECHO ON;



SPOOL "D:\Semester III\Database I\Mid-Term Exam\LabExam1_Spool.txt";




--Step A:

DROP TABLE REGISTRATION;
DROP TABLE STUDENT;
DROP TABLE COURSE;
DROP TABLE MAJOR;



--Step B:

CREATE TABLE STUDENT
(StudentId CHAR(5), 
Last VARCHAR2(15) NOT NULL, 
First VARCHAR2(15),
City VARCHAR2(30),
State CHAR(2) DEFAULT 'NJ',
Zip CHAR(5),
BirthDate DATE,
MajorId NUMBER(3),
CONSTRAINT STUDENT_StudentId_pk PRIMARY KEY (StudentId));



CREATE TABLE COURSE
(CourseId VARCHAR2(6), 
Title VARCHAR2(20) UNIQUE, 
Credits NUMBER(1) CHECK (Credits >= 0 AND Credits <= 4),
CONSTRAINT COURSE_CourseId_pk PRIMARY KEY (CourseId));



CREATE TABLE REGISTRATION
(StudentId CHAR(5), 
CourseId VARCHAR2(6), 
FinalGrade CHAR(1),
CONSTRAINT REGISTRATION_Ids_pk PRIMARY KEY (StudentId, CourseId),
CONSTRAINT REGISTRATION_StudentId_fk FOREIGN KEY (StudentId) REFERENCES STUDENT(StudentId),
CONSTRAINT REGISTRATION_CourseId_fk FOREIGN KEY (CourseId) REFERENCES COURSE(CourseId));


CREATE TABLE MAJOR
(MajorId NUMBER(3), 
MajorDesc VARCHAR2(25), 
CONSTRAINT REGISTRATION_MajorId_pk PRIMARY KEY (MajorId));




--Step C:

ALTER TABLE STUDENT
ADD CONSTRAINT STUDENT_MajorId_fk FOREIGN KEY (MajorId) REFERENCES MAJOR(MajorId);





--Step D:


INSERT INTO COURSE VALUES
('EN100', 'Basic English', 0);

INSERT INTO COURSE VALUES
('LA123', 'English Literature', 3);

INSERT INTO COURSE VALUES
('CIS253', 'DataBase Systems', 3);

INSERT INTO COURSE VALUES
('CIS265', 'Systems Analysis', 3);

INSERT INTO COURSE VALUES
('MA150', 'College Algebra', 3);

INSERT INTO COURSE VALUES
('AC101', 'Accounting', 3);





INSERT INTO MAJOR VALUES
(100, 'AAS-Accounting');

INSERT INTO MAJOR VALUES
(200, 'AAS-Computer Science');

INSERT INTO MAJOR VALUES
(300, 'AAS-Telecommunications');

INSERT INTO MAJOR VALUES
(400, 'BS-Accounting');

INSERT INTO MAJOR VALUES
(500, 'BS-Computer Science');

INSERT INTO MAJOR VALUES
(600, 'BS-Telecommunications');




INSERT INTO STUDENT VALUES
('00100', 'Diaz', 'Jose', 'Hill', 'NJ', '08863', TO_DATE('83-02-12', 'YY-MM-DD'), 100);

INSERT INTO STUDENT VALUES
('00101', 'Tyler', 'Mickey', 'Bronx', 'NY', '10468', TO_DATE('84-03-18', 'YY-MM-DD'), 500);

INSERT INTO STUDENT VALUES
('00102', 'Patel', 'Rajesh', 'Edison', 'NJ', '08837', TO_DATE('85-12-12', 'YY-MM-DD'), 400);

INSERT INTO STUDENT VALUES
('00103', 'Rickles', 'Deborah', 'Iselin', 'NJ', '08863', TO_DATE('70-10-20', 'YY-MM-DD'), 500);

INSERT INTO STUDENT VALUES
('00104', 'Lee', 'Brian', 'Hope', 'NY', '11373', TO_DATE('85-11-28', 'YY-MM-DD'), 600);

INSERT INTO STUDENT VALUES
('00105', 'Khan', 'Amir', 'Clifton', 'NJ', '07222', TO_DATE('84-07-07', 'YY-MM-DD'), 200);



INSERT INTO REGISTRATION VALUES
('00100', 'AC101', 'F');

INSERT INTO REGISTRATION VALUES
('00100', 'LA123', 'B');

INSERT INTO REGISTRATION VALUES
('00100', 'CIS265', 'A');

INSERT INTO REGISTRATION VALUES
('00102', 'LA123', 'D');

INSERT INTO REGISTRATION VALUES
('00102', 'AC101', 'A');

INSERT INTO REGISTRATION VALUES
('00103', 'CIS265', 'W');

INSERT INTO REGISTRATION VALUES
('00103', 'MA150', 'D');

INSERT INTO REGISTRATION VALUES
('00100', 'CIS253', '');

INSERT INTO REGISTRATION VALUES
('00103', 'CIS253', 'B');

INSERT INTO REGISTRATION VALUES
('00104', 'LA123', '');

INSERT INTO REGISTRATION VALUES
('00104', 'CIS265', 'A');

INSERT INTO REGISTRATION VALUES
('00104', 'CIS253', '');

INSERT INTO REGISTRATION VALUES
('00105', 'MA150', '');

INSERT INTO REGISTRATION VALUES
('00105', 'AC101', 'A');

INSERT INTO REGISTRATION VALUES
('00101', 'MA150', '');

INSERT INTO REGISTRATION VALUES
('00102', 'CIS265', 'B');

INSERT INTO REGISTRATION VALUES
('00102', 'MA150', '');

INSERT INTO REGISTRATION VALUES
('00102', 'EN100', 'B');




--Step E:

ALTER TABLE STUDENT
ADD StartTerm CHAR(4);


UPDATE STUDENT
SET StartTerm = 'WN12'
WHERE StudentId = '00100';

UPDATE STUDENT
SET StartTerm = 'SP12'
WHERE StudentId = '00101';

UPDATE STUDENT
SET StartTerm = 'WN12'
WHERE StudentId = '00102';

UPDATE STUDENT
SET StartTerm = 'SP12'
WHERE StudentId = '00103';

UPDATE STUDENT
SET StartTerm = 'WN12'
WHERE StudentId = '00104';

UPDATE STUDENT
SET StartTerm = 'SP12'
WHERE StudentId = '00105';



--2:

SELECT last||' '||first AS "Full Name", BirthDate
FROM student;




--3:

SELECT *
FROM REGISTRATION
ORDER BY StudentId ASC;




--4:

DELETE
FROM REGISTRATION
WHERE StudentId = '00102';



SELECT *
FROM REGISTRATION
ORDER BY StudentId ASC;



SPOOL OFF;

